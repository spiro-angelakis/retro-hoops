[gd_scene load_steps=12 format=2]

[ext_resource path="res://scene/Game.tscn" type="PackedScene" id=1]
[ext_resource path="res://admob-lib/admob.gd" type="Script" id=2]
[ext_resource path="res://scene/GameUI.gd" type="Script" id=3]
[ext_resource path="res://assets/font/c-64.ttf" type="DynamicFontData" id=4]
[ext_resource path="res://assets/texture/shopbutton.png" type="Texture" id=5]
[ext_resource path="res://scene/Sandman.gd" type="Script" id=6]
[ext_resource path="res://scene/AdGuy.gd" type="Script" id=7]

[sub_resource type="Shader" id=1]
code = "/*
Shader from Godot Shaders - the free shader library.
godotshaders.com/shader/pixelate

This shader is under CC0 license. Feel free to use, improve and 
change this shader according to your needs and consider sharing 
the modified result to godotshaders.com.
*/

shader_type canvas_item;

uniform int amount = 40;

void fragment()
{
	vec2 grid_uv = round(UV * float(amount)) / float(amount);
	
	vec4 text = texture(TEXTURE, grid_uv);
	
	COLOR = text;
}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/amount = 300

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 300, 512 )

[sub_resource type="DynamicFont" id=4]
outline_size = 2
outline_color = Color( 0, 0, 0, 1 )
font_data = ExtResource( 4 )

[node name="GameUI" type="Node2D"]
script = ExtResource( 3 )

[node name="ViewportContainer" type="ViewportContainer" parent="."]
material = SubResource( 2 )
margin_right = 600.0
margin_bottom = 1024.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Viewport" type="Viewport" parent="ViewportContainer"]
size = Vector2( 600, 1024 )
handle_input_locally = false
render_target_update_mode = 3

[node name="Game" parent="ViewportContainer/Viewport" instance=ExtResource( 1 )]

[node name="ThrowLine" type="Line2D" parent="."]
points = PoolVector2Array( 0, 0, 0, 0 )

[node name="TouchScreenButton" type="TouchScreenButton" parent="."]
shape = SubResource( 3 )

[node name="HUD" type="CenterContainer" parent="."]
margin_top = 150.0
margin_right = 608.0
margin_bottom = 254.0
rect_min_size = Vector2( 600, 100 )
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="HBoxContainer" type="HBoxContainer" parent="HUD"]
margin_right = 608.0
margin_bottom = 104.0
rect_min_size = Vector2( 600, 100 )

[node name="CenterContainer" type="CenterContainer" parent="HUD/HBoxContainer"]
margin_right = 200.0
margin_bottom = 104.0
rect_min_size = Vector2( 200, 100 )

[node name="ScoreText" type="RichTextLabel" parent="HUD/HBoxContainer/CenterContainer"]
margin_top = 2.0
margin_right = 200.0
margin_bottom = 102.0
rect_min_size = Vector2( 200, 100 )
custom_fonts/normal_font = SubResource( 4 )
bbcode_enabled = true
bbcode_text = "[center]Score: [/center]"
text = "Score: "

[node name="CenterContainer2" type="CenterContainer" parent="HUD/HBoxContainer"]
margin_left = 204.0
margin_right = 404.0
margin_bottom = 104.0
rect_min_size = Vector2( 200, 100 )

[node name="VBoxContainer" type="VBoxContainer" parent="HUD/HBoxContainer/CenterContainer2"]
margin_right = 200.0
margin_bottom = 104.0

[node name="LevelText" type="RichTextLabel" parent="HUD/HBoxContainer/CenterContainer2/VBoxContainer"]
margin_right = 200.0
margin_bottom = 50.0
rect_min_size = Vector2( 200, 50 )
custom_fonts/normal_font = SubResource( 4 )
bbcode_enabled = true
bbcode_text = "[center]Level: [/center]"
text = "Level: "

[node name="TimeText" type="RichTextLabel" parent="HUD/HBoxContainer/CenterContainer2/VBoxContainer"]
margin_top = 54.0
margin_right = 200.0
margin_bottom = 104.0
rect_min_size = Vector2( 200, 50 )
custom_fonts/normal_font = SubResource( 4 )
bbcode_enabled = true
bbcode_text = "[center]Level: [/center]"
text = "Level: "

[node name="CenterContainer3" type="CenterContainer" parent="HUD/HBoxContainer"]
margin_left = 408.0
margin_right = 608.0
margin_bottom = 104.0
rect_min_size = Vector2( 200, 100 )

[node name="ShopButton" type="TextureButton" parent="HUD/HBoxContainer/CenterContainer3"]
margin_left = 25.0
margin_top = 27.0
margin_right = 175.0
margin_bottom = 77.0
texture_normal = ExtResource( 5 )

[node name="Sandman" type="Node2D" parent="."]
script = ExtResource( 6 )

[node name="Time" type="Timer" parent="Sandman"]
one_shot = true

[node name="AdTimer" type="Timer" parent="."]
one_shot = true

[node name="AdGuy" type="Node2D" parent="."]
script = ExtResource( 7 )

[node name="AdMob" type="Node" parent="AdGuy"]
script = ExtResource( 2 )
is_real = true
banner_id = "ca-app-pub-3940256099942544/6300978111"
interstitial_id = "ca-app-pub-3940256099942544/1033173712"
rewarded_id = "ca-app-pub-3940256099942544/5224354917"

[node name="DebugOut" type="RichTextLabel" parent="AdGuy"]
margin_right = 40.0
margin_bottom = 40.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="LoadTimer" type="Timer" parent="AdGuy"]
wait_time = 2.0
one_shot = true
autostart = true

[connection signal="pressed" from="TouchScreenButton" to="." method="_on_TouchScreenButton_pressed"]
[connection signal="released" from="TouchScreenButton" to="." method="_on_TouchScreenButton_released"]
[connection signal="timeout" from="Sandman/Time" to="Sandman" method="_on_Time_timeout"]
[connection signal="timeout" from="AdTimer" to="." method="_on_AdTimer_timeout"]
[connection signal="timeout" from="AdGuy/LoadTimer" to="AdGuy" method="_on_LoadTimer_timeout"]
